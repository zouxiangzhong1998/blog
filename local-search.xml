<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Linux 环境维护</title>
    <link href="/blog/2024/08/d276cb301771.html"/>
    <url>/blog/2024/08/d276cb301771.html</url>
    
    <content type="html"><![CDATA[<h4 id="查看Linux系统信息"><a href="#查看Linux系统信息" class="headerlink" title="查看Linux系统信息"></a>查看Linux系统信息</h4><p>使用命令查看linux信息，我的系统是 <code>CentOS Linux 7 (Core)</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cat /etc/os-release<br></code></pre></td></tr></table></figure><hr><h4 id="yum-命令问题"><a href="#yum-命令问题" class="headerlink" title="yum 命令问题"></a>yum 命令问题</h4><h5 id="使用阿里云或其他国内镜像源"><a href="#使用阿里云或其他国内镜像源" class="headerlink" title="使用阿里云或其他国内镜像源"></a>使用阿里云或其他国内镜像源</h5><p>如果使用 yum 安装出现类似问题，应该是 CentOS 停止维护了，所以他的网络库已经关掉了，我们把这里换成阿里云镜像库</p><ol><li><p>备份YUM配置文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo cp /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.back<br></code></pre></td></tr></table></figure></li><li><p>更新YUM仓库源为阿里云镜像源</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo vi /etc/yum.repos.d/CentOS-Base.repo<br></code></pre></td></tr></table></figure></li><li><p>将内容替换成下面</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs shell">[base]<br>name=CentOS-$releasever - Base - mirrors.aliyun.com<br>baseurl=http://mirrors.aliyun.com/centos/$releasever/os/$basearch/<br>gpgcheck=1<br>gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7<br> <br>[updates]<br>name=CentOS-$releasever - Updates - mirrors.aliyun.com<br>baseurl=http://mirrors.aliyun.com/centos/$releasever/updates/$basearch/<br>gpgcheck=1<br>gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7<br> <br>[extras]<br>name=CentOS-$releasever - Extras - mirrors.aliyun.com<br>baseurl=http://mirrors.aliyun.com/centos/$releasever/extras/$basearch/<br>gpgcheck=1<br>gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7<br> <br>[centosplus]<br>name=CentOS-$releasever - Plus - mirrors.aliyun.com<br>baseurl=http://mirrors.aliyun.com/centos/$releasever/centosplus/$basearch/<br>gpgcheck=1<br>enabled=0<br>gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7<br></code></pre></td></tr></table></figure></li><li><p>清理并重建缓存</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo yum clean all<br>sudo yum makecache<br>sudo yum update<br></code></pre></td></tr></table></figure></li></ol><hr><h4 id="wget-命令问题"><a href="#wget-命令问题" class="headerlink" title="wget 命令问题"></a>wget 命令问题</h4><p>如果没有系统没有 wget 命令 可以使用 yum 安装 wget</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum -y install wget<br></code></pre></td></tr></table></figure><hr><h4 id="lrzsz-命令问题"><a href="#lrzsz-命令问题" class="headerlink" title="lrzsz 命令问题"></a>lrzsz 命令问题</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum -y install lrzsz<br></code></pre></td></tr></table></figure><hr><p>检查是否已经安装过mysql ：    rpm -qa | grep mysql<br>如果环境中有遗留mysql则执行删除命令：rpm -e –nodeps mysql-xxxxxxxxx<br>查询遗留的mysql设置或命令，执行两条命令：<br>whereis mysql<br>find &#x2F; -name mysql</p><hr><h4 id="CentOS-7-防火墙-firewalld"><a href="#CentOS-7-防火墙-firewalld" class="headerlink" title="CentOS 7 防火墙 firewalld"></a>CentOS 7 防火墙 firewalld</h4><p>Centos7默认安装了firewalld，如果没有安装的话，可以使用 进行安装。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum install firewalld firewalld-config<br></code></pre></td></tr></table></figure><ol><li><p>启动防火墙</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">systemctl start firewalld<br></code></pre></td></tr></table></figure></li><li><p>禁用防火墙</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">systemctl stop firewalld<br></code></pre></td></tr></table></figure></li></ol><p>3.设置开机启动</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">systemctl enable firewalld<br></code></pre></td></tr></table></figure><p>4.停止并禁用开机启动</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sytemctl disable firewalld<br></code></pre></td></tr></table></figure><p>5.重载防火墙</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --reload<br></code></pre></td></tr></table></figure><p>6.查看状态</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">systemctl status firewalld<br><span class="hljs-meta prompt_"># </span><span class="language-bash">或者</span><br>firewall-cmd --state<br></code></pre></td></tr></table></figure><p>7.查看版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --version<br>```  <br><br>8.查看帮助<br>```shell<br>firewall-cmd --help<br></code></pre></td></tr></table></figure><p>9.查看区域信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --get-active-zones<br></code></pre></td></tr></table></figure><p>10.查看指定接口所属区域信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --get-zone-of-interface=eth0<br></code></pre></td></tr></table></figure><p>11.拒绝所有包</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --panic-on<br></code></pre></td></tr></table></figure><p>12.取消拒绝状态</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --panic-off<br></code></pre></td></tr></table></figure><p>13.查看是否拒绝</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --query-panic<br></code></pre></td></tr></table></figure><p>14.将接口添加到区域(默认接口都在public) (永久生效再加上 –permanent 然后reload防火墙)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --zone=public --add-interface=eth0<br></code></pre></td></tr></table></figure><p>15.设置默认接口区域(立即生效，无需重启)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --set-default-zone=public<br></code></pre></td></tr></table></figure><p>16.更新防火墙规则(两者的区别就是第一个无需断开连接，就是firewalld特性之一动态添加规则，第二个需要断开连接，类似重启服务)  </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --reload<br><span class="hljs-meta prompt_"># </span><span class="language-bash">或</span><br>firewall-cmd --complete-reload<br></code></pre></td></tr></table></figure><p>17.查看指定区域所有打开的端口</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --zone=public --list-ports<br></code></pre></td></tr></table></figure><p>18.在指定区域打开端口（记得重启防火墙）(永久生效再加上 –permanent) </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --zone=public --add-port=80/tcp<br></code></pre></td></tr></table></figure><p>说明：<br>–zone 作用域<br>–add-port&#x3D;8080&#x2F;tcp 添加端口，格式为：端口&#x2F;通讯协议<br>–permanent  永久生效，没有此参数重启后失效</p><h4 id="制作Linux服务并设置开机自启动"><a href="#制作Linux服务并设置开机自启动" class="headerlink" title="制作Linux服务并设置开机自启动"></a>制作Linux服务并设置开机自启动</h4><p>在 &#x2F;etc&#x2F;systemd&#x2F;system&#x2F; 路径下创建 mysql.service 文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /etc/systemd/system/<br>vi mysql.service<br></code></pre></td></tr></table></figure><p>写入如下内容</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell">[Unit]<br>Description=MySQL Database Server<br><br>[Service]<br>Type=forking<br>PermissionsStartOnly=true<br>PIDFile=/data/mysql/mysql.pid<br>ExecStart=/usr/local/mysql/bin/mysqld_safe --defaults-file=/etc/my.cnf<br>ExecReload=/bin/kill -USR2 $MAINPID<br>ExecStop=/bin/kill -TERM $MAINPID<br>TimeoutSec=300<br>PrivateTmp=true<br>User=mysql<br>Group=mysql<br>Restart=on-failure<br><br>[Install]<br>WantedBy=multi-user.target<br></code></pre></td></tr></table></figure><p>设置开机自启动</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">查看是否配置开机启动</span><br>systemctl is-enabled mysql<br><span class="hljs-meta prompt_"># </span><span class="language-bash">设置开机启动</span><br>systemctl enable mysql<br><span class="hljs-meta prompt_"># </span><span class="language-bash">取消开机自启动</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">systemctl <span class="hljs-built_in">disable</span> mysql</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">查看服务当前状态</span><br>systemctl status mysql<br><span class="hljs-meta prompt_"># </span><span class="language-bash">启动nginx服务</span><br>systemctl start mysql<br><span class="hljs-meta prompt_"># </span><span class="language-bash">停止nginx服务</span><br>systemctl stop mysql<br><span class="hljs-meta prompt_"># </span><span class="language-bash">重启nginx服务</span><br>systemctl restart mysql<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>系统环境</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows 系统 搭建 Linux 环境</title>
    <link href="/blog/2024/08/2c4f755ae28a.html"/>
    <url>/blog/2024/08/2c4f755ae28a.html</url>
    
    <content type="html"><![CDATA[<h4 id="下载信息"><a href="#下载信息" class="headerlink" title="下载信息"></a>下载信息</h4><h5 id="VMware-Workstation-Player"><a href="#VMware-Workstation-Player" class="headerlink" title="VMware Workstation Player"></a>VMware Workstation Player</h5><p><strong><a href="https://www.vmware.com/info/workstation-player/evaluation">下载 VMware Workstation Player</a></strong><br>VMware Workstation Player和VMware Pro的主要区别在于功能、‌许可证和技术支持。‌</p><ul><li> <br>  <strong>功能方面</strong>，‌VMware Workstation Player是一款免费的虚拟化软件，‌主要用于家庭或个人用户。‌它的功能相对较简单，‌主要用于运行已有的虚拟机，‌但不能创建新的虚拟机或管理已有的虚拟机。‌相比之下，‌VMware Pro是一款专业的虚拟化软件，‌带有更多的高级特性，‌如支持创建新的虚拟机、‌虚拟机录制和回放、‌回收虚拟机内存、‌多屏幕交互、‌批量部署虚拟机等。‌此外，‌VMware Pro还支持配合其他VMware产品进行使用，‌具有更强的扩展性。‌</li><li> <br>  <strong>许可证方面</strong>，‌VMware Workstation Player是免费产品，‌用户可以在官网下载一些虚拟机镜像来使用。‌而VMware Pro是收费产品，‌用户需要购买许可证来使用，‌并且提供不同版本以满足不同需求。‌</li><li> <br>  <strong>技术支持方面</strong>，‌VMware Workstation Player的技术支持是基于社区提供的，‌需要用户到VMware官网寻求解决方案。‌而VMware Pro作为付费产品，‌提供了全面的技术支持，‌包括在线和电话技术支持，‌以及其他一些优先服务。‌</li></ul><p>总的来说，‌VMware Workstation Player面向家庭和个人用户，‌功能相对较为简单且免费；‌而VMware Pro则适合需要更多高级功能和专业支持的企业或专业用户<br><a href="https://download3.vmware.com/software/WKST-PLAYER-1750/VMware-player-full-17.5.0-22583795.exe">直接下载的链接</a><br><img src="/blog/2024/08/2c4f755ae28a/file-20240814213854954.png"><br>如果遇到上述问题，复制 URL 可以使用如迅雷等下载软件可以直接下载<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814214146361.png"></p><blockquote><p><strong>下载完成后可以直接安装，根据个人选择安装路径根据需要安装即可；过程可能会重启电脑，记得保存个人数据在重启电脑</strong></p></blockquote><p><strong>使用免费许可证即可</strong><br><img src="/blog/2024/08/2c4f755ae28a/file-20240814220432680.png"></p><hr><h5 id="下载Linux系统ISO文件"><a href="#下载Linux系统ISO文件" class="headerlink" title="下载Linux系统ISO文件"></a>下载Linux系统ISO文件</h5><p>[阿里云ISO镜像网](<a href="https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/">https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/</a><br>我这里使用的linux系统是 CentOS 版本是 7.9；因为我电脑的架构是 X86_64 架构，如果是其他架构选择对应架构即可；选择这个4G大小的，自行选择所需要的包体<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814220256294.png"></p><p><strong>CentOS版本不同大小的各个版本区别</strong></p><ol><li>Everything版：这个版本包含了CentOS的所有软件组件，因此其体积相对较大，高达7G，甚至10G。它为用户提供了全面的软件包选择，无需再额外下载其他组件。</li><li>DVD版：这个版本是CentOS的常用版本，也被称为标准安装盘。它包含了大量的常用软件，因此在大部分情况下，安装时无需再在线下载其他软件。这个版本的体积大约为4G。</li><li>Minimal版：与DVD版和Everything版不同，Minimal版是一个精简版本，只包含系统必须的几个基本软件包。它的体积相对较小，只有600多MB，适合那些只需要基本功能的用户或系统。</li><li><ol><li>NetInstall版：这个版本主要用于网络安装和系统救援。与DVD版和Everything版不同，NetInstall版的软件包并不直接包含在映像文件中，而是需要在安装过程中通过网络下载。</li></ol></li></ol><table><thead><tr><th>File Name</th><th>File Size</th><th>Date</th></tr></thead><tbody><tr><td><a href="https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-DVD-2009.iso">CentOS-7-x86_64-DVD-2009.iso</a></td><td>4.4 GB</td><td>2020-11-04 19:37</td></tr><tr><td><a href="https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-DVD-2207-02.iso">CentOS-7-x86_64-DVD-2207-02.iso</a></td><td>4.4 GB</td><td>2022-07-26 23:10</td></tr><tr><td><a href="https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Everything-2009.iso">CentOS-7-x86_64-Everything-2009.iso</a></td><td>9.5 GB</td><td>2020-11-02 23:18</td></tr><tr><td><a href="https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Everything-2207-02.iso">CentOS-7-x86_64-Everything-2207-02.iso</a></td><td>9.6 GB</td><td>2022-07-27 02:09</td></tr><tr><td><a href="https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso?spm=a2c6h.25603864.0.0.18de6aea3xl9mc">CentOS-7-x86_64-Minimal-2009.iso</a></td><td>973.0 MB</td><td>2020-11-03 22:55</td></tr><tr><td><a href="https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2207-02.iso">CentOS-7-x86_64-Minimal-2207-02.iso</a></td><td>988.0 MB</td><td>2022-07-26 23:10</td></tr><tr><td><a href="https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-NetInstall-2009.iso">CentOS-7-x86_64-NetInstall-2009.iso</a></td><td>575.0 MB</td><td>2020-10-27 00:26</td></tr></tbody></table><hr><h5 id="Windows-Terminal"><a href="#Windows-Terminal" class="headerlink" title="Windows Terminal"></a>Windows Terminal</h5><p><strong><a href="https://apps.microsoft.com/detail/9n0dx20hk701">下载 Windows Terminal</a></strong><br>Windows 终端程序是一款新式、快速、高效、强大且高效的终端应用程序，适用于命令行工具和命令提示符，PowerShell和 WSL 等 Shell 用户。主要功能包括多个选项卡、窗格、Unicode、和 UTF-8 字符支持，GPU 加速文本渲染引擎以及自定义主题、样式和配置。 这是一个开源项目，我们欢迎社区参与。如要参与，请访问 <a href="https://github.com/microsoft/terminal">https://github.com/microsoft/terminal</a></p><hr><h4 id="使用VMware-Player创建Linux"><a href="#使用VMware-Player创建Linux" class="headerlink" title="使用VMware Player创建Linux"></a>使用VMware Player创建Linux</h4><h5 id="创建虚拟机"><a href="#创建虚拟机" class="headerlink" title="创建虚拟机"></a>创建虚拟机</h5><ol><li><p>创建新虚拟机<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814220743899.png" alt="创建新虚拟机"></p></li><li><p>选稍后安装操作系统<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814220914456.png" alt="稍后安装操作系统"></p></li><li><p>选Linux；因为我们是 CentOS 7.9 版本，所以选CentOS 7 64 位<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814221222424.png" alt="Linux"></p></li><li><p>基本信息，选择自己需要的安装路径<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814221416720.png" alt="安装路径"></p></li><li><p>可以使用默认 20G，我这边给40，给10G也没问题的，后续如果不够是可以扩容磁盘大小的；下面选存储为单个文件，这样加载Linux会快些<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814221513697.png" alt="磁盘大小"></p></li><li><p>这是操作的基本信息，选择自定义邮件<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814221649888.png" alt="自定义硬件"></p></li><li><p>点开自定义硬件后，将内存给 4G，处理器给4核，网络适配器选桥接模式（方便后面使用 SSH 连接操作）<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814221824163.png" alt="自定义硬件"></p></li><li><p>新CD&#x2F;DVD 选择之前下载的 ISO 文件，完成后点右下角关闭<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814222029676.png" alt="DVD"></p></li><li><p>准备好后的所有信息，点击完成<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814222115449.png" alt="准备好信息"></p></li></ol><hr><h5 id="安装Linux环境"><a href="#安装Linux环境" class="headerlink" title="安装Linux环境"></a>安装Linux环境</h5><ol><li><p>启动虚拟机<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814222218764.png" alt="启动虚拟机"></p></li><li><p>选第一个安装 CentOS 7，选择完后等待安装<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814222301953.png" alt="安装Linux"></p></li><li><p>选择语言，选好后点继续<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814222436926.png" alt="选择语言"></p></li><li><p>先处理网络和主机<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814222522960.png" alt="处理网络"></p></li><li><p>打开网络，自动获取ip信息，下面可以更改主机名，完成后点左上角完成<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814222650638.png" alt="打开网络"></p></li><li><p>安装位置点开后查看是否是正确即可<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814222821687.png" alt="安装位置"></p></li><li><p>软件选择选最小安装，我们是用来学习Linux，不需要图像界面<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814222856055.png" alt="软件选择"></p></li><li><p>日期&amp;时间 地区选亚洲，城市选上海，网络时间打开，如果打不开是网络和主机名配置错误<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814223019216.png" alt="日期&amp;时间"></p></li><li><p>信息无误后，点击开始安装<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814223129967.png" alt="开始安装"></p></li><li><p>设置ROOT密码，我这把设置的密码是 root，方便记忆与学习；</p><blockquote><p>如果是个人使用我推荐用 root 作为密码，如果有同事或者朋友想连接你的服务器，或者写一些开源的项目或者文章不会泄露任何个人隐私信息，root 也好记忆<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814223207170.png" alt="设置root密码"></p></blockquote></li><li><p>设置成功，如果点击完成无效，多点几次，因为密码太简单需要多次确认无误<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814223242450.png" alt="设置成功"></p></li><li><p>安装完成后重启<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814223500271.png" alt="重启"></p></li><li><p>输入 root 用户登录，root 密码<br><img src="/blog/2024/08/2c4f755ae28a/file-20240814223636064.png" alt="登录linux"></p></li></ol><hr><h4 id="使用SSH工具连接Linux"><a href="#使用SSH工具连接Linux" class="headerlink" title="使用SSH工具连接Linux"></a>使用SSH工具连接Linux</h4><h5 id="Linux-信息获取"><a href="#Linux-信息获取" class="headerlink" title="Linux 信息获取"></a>Linux 信息获取</h5><p>使用命令查看ip信息获取 ip地址，我这里是 192.168.0.106</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ip addr<br></code></pre></td></tr></table></figure><p><img src="/blog/2024/08/2c4f755ae28a/file-20240814223850059.png" alt="ip信息"></p><hr><h5 id="Windows-SSH-连接-Linux"><a href="#Windows-SSH-连接-Linux" class="headerlink" title="Windows SSH 连接 Linux"></a>Windows SSH 连接 Linux</h5><p>我这里演示使用的是 Windows Terminal 来连接当前的Linux服务器<br><a href="https://learn.microsoft.com/zh-cn/windows/terminal/tutorials/ssh">Windows 终端 SSH | Microsoft Learn</a> 文档地址，如遇到连接问题，可以看看文档有没有什么解决方案</p><p><img src="/blog/2024/08/2c4f755ae28a/file-20240815141748165.png"><br>先确认有没有 ssh 环境，没有则根据上面的文档地址安装<br>使用<code>ssh</code>命令连接到linux环境</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ssh root@192.168.0.106<br></code></pre></td></tr></table></figure><p>输入后，他会向你确认服务器没有这个连接信息密钥，是否确认连接，我们输入 yes 即可<br><img src="/blog/2024/08/2c4f755ae28a/file-20240815142119664.png"></p><p>再次输入 <code>ssh root@192.168.0.106</code> 连接，输入密码 root ，即可连接到Linux服务器了<br><img src="/blog/2024/08/2c4f755ae28a/file-20240815142202228.png"></p>]]></content>
    
    
    <categories>
      
      <category>系统环境</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Windows</tag>
      
      <tag>VMware</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux 系统 MySQL 安装教程</title>
    <link href="/blog/2024/08/65c424735cd5.html"/>
    <url>/blog/2024/08/65c424735cd5.html</url>
    
    <content type="html"><![CDATA[<h4 id="系统信息"><a href="#系统信息" class="headerlink" title="系统信息"></a>系统信息</h4><p>使用命令查看linux信息，我的系统是 <code>CentOS Linux 7 (Core)</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cat /etc/os-release<br></code></pre></td></tr></table></figure><p><img src="/blog/2024/08/65c424735cd5/file-20240815145655706.png"></p><p>确定一下系统的glibc版本，使用如下命令，我的版本是glibc-2.17，下载对应的版本MySQL</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">rpm -qa | grep glibc<br></code></pre></td></tr></table></figure><p><img src="/blog/2024/08/65c424735cd5/file-20240815181707902.png"></p><p>检查是否已经安装过mysql</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">rpm -qa | grep mysql<br></code></pre></td></tr></table></figure><p>如果环境中有遗留mysql则执行删除命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">rpm -e --nodeps mysql-xxxxxxxxx<br></code></pre></td></tr></table></figure><p>查询遗留的mysql设置或命令，执行两条命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">whereis mysql<br>find / -name mysql<br></code></pre></td></tr></table></figure><p>如通过上述两条命令发现有遗留，则执行清除命令，将所有查到的mysql可以删除</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">rm</span> -rf  xxx xxx<br></code></pre></td></tr></table></figure><hr><h4 id="下载信息"><a href="#下载信息" class="headerlink" title="下载信息"></a>下载信息</h4><h5 id="推荐-正常下载上传到Linux服务器"><a href="#推荐-正常下载上传到Linux服务器" class="headerlink" title="(推荐)正常下载上传到Linux服务器"></a>(推荐)正常下载上传到Linux服务器</h5><p>MySQL 8.4.2 LTS，服务器我们用长期支持版本<br><a href="https://dev.mysql.com/downloads/mysql/">MySQL :: Download MySQL Community Server</a><br><img src="/blog/2024/08/65c424735cd5/file-20240815181847532.png"><br>连接到Linux后，执行创建 &#x2F;data&#x2F;yunwei 目录，并进入到目录下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir -p /data/yunwei &amp;&amp; cd /data/yunwei<br></code></pre></td></tr></table></figure><p>上传MySQL压缩文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">rz<br></code></pre></td></tr></table></figure><hr><h5 id="可选-使用-wget-下载"><a href="#可选-使用-wget-下载" class="headerlink" title="(可选)使用 wget 下载"></a>(可选)使用 wget 下载</h5><p>连接到Linux后，执行创建 &#x2F;data&#x2F;yunwei 目录，并进入到目录下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir -p /data/yunwei &amp;&amp; cd /data/yunwei<br></code></pre></td></tr></table></figure><p>使用 wget 命令在Linux上直接下载对应的包体</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">wget https://cdn.mysql.com//Downloads/MySQL-8.4/mysql-8.4.2-linux-glibc2.17-x86_64.tar.xz<br></code></pre></td></tr></table></figure><hr><h4 id="解压安装MySQL"><a href="#解压安装MySQL" class="headerlink" title="解压安装MySQL"></a>解压安装MySQL</h4><ol><li><p>解码命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar -xvf mysql-8.4.2-linux-glibc2.17-x86_64.tar.xz<br></code></pre></td></tr></table></figure></li><li><p>剪切到 <code>/usr/local/mysql</code> 中去</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mv mysql-8.4.2-linux-glibc2.17-x86_64 /usr/local/mysql<br></code></pre></td></tr></table></figure></li><li><p>找一个目录来存储mysql的数据，如果你的数据量大，记得要找个大点的盘和目录，我的是在&#x2F;data目录下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir -p /data/mysql/data<br></code></pre></td></tr></table></figure></li><li><p>创建 mariadb.log 文件 MySQL 不会自动创建</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">touch /data/mysql/mariadb.log<br></code></pre></td></tr></table></figure></li><li><p>创建 mysql.pid 文件 MySQL 不会自动创建</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">touch /data/mysql/mysql.pid<br></code></pre></td></tr></table></figure></li></ol><hr><h5 id="MySQL权限管理"><a href="#MySQL权限管理" class="headerlink" title="MySQL权限管理"></a>MySQL权限管理</h5><ol><li><p>创建创建MYSQL⽤户和⽤户组</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">groupadd mysql<br><br>useradd -g mysql mysql<br></code></pre></td></tr></table></figure></li><li><p>更改mysql目录下所有的目录及文件夹所属的用户组和用户，以及权限</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">chmod -R 775 /usr/local/mysql<br><br>chown -R mysql:mysql /usr/local/mysql<br><br>chmod -R 775 /data/mysql<br><br>chown -R mysql:mysql /data/mysql<br><br>chown -R 777 /tmp<br></code></pre></td></tr></table></figure></li></ol><hr><h5 id="准备MYSQL的配置⽂件"><a href="#准备MYSQL的配置⽂件" class="headerlink" title="准备MYSQL的配置⽂件"></a>准备MYSQL的配置⽂件</h5><ol><li><p>备份原有的配置文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cp /etc/my.cnf /etc/my.cnf.back<br></code></pre></td></tr></table></figure></li><li><p>将改配置覆盖进去</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vi /etc/my.cnf<br></code></pre></td></tr></table></figure></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs shell">[mysqld]<br><span class="hljs-meta prompt_">#</span><span class="language-bash">datadir=/var/lib/mysql</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">socket=/var/lib/mysql/mysql.sock</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">Disabling symbolic-links is recommended to prevent assorted security risks</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">symbolic-links=0</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">Settings user and group are ignored when systemd is used.</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">If you need to run mysqld under a different user or group,</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">customize your systemd unit file <span class="hljs-keyword">for</span> mariadb according to the</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">instructions <span class="hljs-keyword">in</span> http://fedoraproject.org/wiki/Systemd</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">数据库基本信息</span><br>bind-address=0.0.0.0<br>port=3306<br>user=mysql<br>basedir=/usr/local/mysql<br>datadir=/data/mysql/data<br>socket=/tmp/mysql.sock<br><span class="hljs-meta prompt_">#</span><span class="language-bash">socket=/data/mysql/mysql.sock</span><br>log-error=/data/mysql/mysql.err<br>pid-file=/data/mysql/mysql.pid<br>symbolic-links=0<br>explicit_defaults_for_timestamp=true<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">数据库连接配置</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">允许最大连接数</span><br>max_connections=200<br><span class="hljs-meta prompt_"># </span><span class="language-bash">允许连接失败的次数。</span><br>max_connect_errors=10<br><span class="hljs-meta prompt_"># </span><span class="language-bash">服务端使用的字符集默认为utf8mb4</span><br>character-set-server=utf8mb4<br><span class="hljs-meta prompt_"># </span><span class="language-bash">创建新表时将使用的默认存储引擎</span><br>default-storage-engine=INNODB<br><br>[mysql]<br><span class="hljs-meta prompt_"># </span><span class="language-bash">设置mysql客户端默认字符集</span><br>default-character-set=utf8mb4<br><br>[client]<br><span class="hljs-meta prompt_"># </span><span class="language-bash">设置mysql客户端连接服务端时默认使用的端口</span><br>port=3306<br>default-character-set=utf8mb4<br><br>[mysqld_safe]<br><span class="hljs-meta prompt_">#</span><span class="language-bash">log-error=/var/log/mariadb/mariadb.log</span><br>log-error=/data/mysql/mariadb.log<br><span class="hljs-meta prompt_">#</span><span class="language-bash">pid-file=/var/run/mariadb/mariadb.pid</span><br>pid-file=/data/mysql/mariadb.pid<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"></span><br><span class="language-bash"><span class="hljs-comment"># include all files from the config directory</span></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"></span><br><span class="language-bash">!includedir /etc/my.cnf.d</span><br></code></pre></td></tr></table></figure><hr><h4 id="开始安装MySQL"><a href="#开始安装MySQL" class="headerlink" title="开始安装MySQL"></a>开始安装MySQL</h4><h5 id="初始化MySQL"><a href="#初始化MySQL" class="headerlink" title="初始化MySQL"></a>初始化MySQL</h5><ol><li><p>初始化mysql，一定要记住初始化输出日志末尾的密码（数据库管理员临时密码）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/usr/local/mysql/bin/mysqld --initialize --user=mysql --datadir=/data/mysql/data --basedir=/usr/local/mysql<br></code></pre></td></tr></table></figure></li><li><p>如果屏幕上没有打印则去日志文件中查看初始化完成后的临时密码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cat /data/mysql/mysql.err<br></code></pre></td></tr></table></figure></li></ol><ul><li>我生成的密码 A temporary password is generated for root@localhost: xiMFijKi&gt;3vY</li></ul><h5 id="启动mysql服务器"><a href="#启动mysql服务器" class="headerlink" title="启动mysql服务器"></a>启动mysql服务器</h5><ol><li><p>先将mysql.server放置到&#x2F;etc&#x2F;init.d&#x2F;mysql中</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql<br></code></pre></td></tr></table></figure></li><li><p>启动mysql命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">service mysql start<br></code></pre></td></tr></table></figure></li><li><p>查看是否启动成功</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ps -ef | grep mysql<br></code></pre></td></tr></table></figure></li></ol><hr><ol start="4"><li>修改初始密码</li></ol><ul><li>首先登录mysql，密码是上述初始化时，日志最后一行生成的那个临时密码<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/usr/local/mysql/bin/mysql -u root -p<br></code></pre></td></tr></table></figure></li><li>修改密码 <blockquote><p>如果是个人使用我推荐用 root 作为密码，如果有同事或者朋友想连接你的数据库，或者写一些开源的项目或者文章不会泄露任何个人隐私信息，root 也好记忆</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;root&#x27;;<br><br>FLUSH PRIVILEGES;<br><br>EXIT;<br></code></pre></td></tr></table></figure></li><li>使用新密码重新连接 MySQL 服务<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/usr/local/mysql/bin/mysql -u root -p<br></code></pre></td></tr></table></figure></li></ul><hr><h5 id="开放远程连接"><a href="#开放远程连接" class="headerlink" title="开放远程连接"></a>开放远程连接</h5><ol><li><p>进入mysql库</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">use mysql;<br></code></pre></td></tr></table></figure></li><li><p>更新mysql库中 user 为 root 的 host 数据</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">update user set user.Host=&#x27;%&#x27; where user.User=&#x27;root&#x27;;<br></code></pre></td></tr></table></figure></li><li><p>刷新配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">flush privileges;<br></code></pre></td></tr></table></figure></li></ol><p>如果遇到连不上 ，telnet 都连不上对应端口时，可能是linux 开启防火墙了，需要将 3306 添加到防火墙中</p><ol><li><p>telnet 命令，看是否访问的到</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">telnet 192.168.0.106 3306<br></code></pre></td></tr></table></figure></li><li><p>检查防火墙状态</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo systemctl status firewalld<br></code></pre></td></tr></table></figure><p><strong>如果防火墙处于关闭状态，可以跳过此步骤</strong>。如果防火墙处于运行状态，需要开放 <code>MySQL</code> 服务的端口（默认为<code>3306</code>）</p></li><li><p>防火墙开放 MySQL 端口</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo firewall-cmd --permanent --add-port=3306/tcp<br>sudo firewall-cmd --reload<br></code></pre></td></tr></table></figure></li><li><p>查看指定区域所有打开的端口</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd --zone=public --list-ports<br></code></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <categories>
      
      <category>开发工具</category>
      
      <category>数据库</category>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>数据库</tag>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows 系统 MySQL 9.0.1 安装教程</title>
    <link href="/blog/2024/08/1200d9535352.html"/>
    <url>/blog/2024/08/1200d9535352.html</url>
    
    <content type="html"><![CDATA[<p>我使用 MySQL 9.0.1 版本来作为安装教程，MySQL 8.X 版本一样可以使用该方式安装。</p><h4 id="下载信息"><a href="#下载信息" class="headerlink" title="下载信息"></a>下载信息</h4><p>MySQL最新发布版本，我推荐使用 zip 的方式安装<br><img src="/blog/2024/08/1200d9535352/file-20240813180120534.png"></p><ul><li><a href="https://dev.mysql.com/downloads/mysql/">MySQL :: Download MySQL Community Server</a></li></ul><p>MySQL 8.X 版本，我推荐使用 zip 的方式安装<br><img src="/blog/2024/08/1200d9535352/file-20240813180223258.png"></p><ul><li><a href="https://downloads.mysql.com/archives/community/">MySQL :: Download MySQL Community Server (Archived Versions)</a></li></ul><p>下载完成后解压<br><img src="/blog/2024/08/1200d9535352/file-20240813214955284.png"></p><hr><h4 id="配置初始化"><a href="#配置初始化" class="headerlink" title="配置初始化"></a>配置初始化</h4><p>解压后的目录没有 <code>my.ini</code> 文件，自行创建在安装根目录下添加 <code>my.ini</code> (新建文本文件，将文件后缀改为 .ini)，写入基本配置:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs shell">[mysqld]<br><span class="hljs-meta prompt_"># </span><span class="language-bash">设置3306端口</span><br>port=3306<br><span class="hljs-meta prompt_"># </span><span class="language-bash">设置mysql的安装目录</span><br>basedir=D:\Application\Oracle\MySQL\mysql-9.0.1-winx64<br><span class="hljs-meta prompt_"># </span><span class="language-bash">设置mysql数据库的数据的存放目录</span><br>datadir=D:\Application\Oracle\MySQL\mysql-9.0.1-winx64\Data<br><span class="hljs-meta prompt_"># </span><span class="language-bash">允许最大连接数</span><br>max_connections=200<br><span class="hljs-meta prompt_"># </span><span class="language-bash">允许连接失败的次数。</span><br>max_connect_errors=10<br><span class="hljs-meta prompt_"># </span><span class="language-bash">服务端使用的字符集默认为utf8mb4</span><br>character-set-server=utf8mb4<br><span class="hljs-meta prompt_"># </span><span class="language-bash">创建新表时将使用的默认存储引擎</span><br>default-storage-engine=INNODB<br><span class="hljs-meta prompt_"># </span><span class="language-bash">默认使用“mysql_native_password”插件认证</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">mysql_native_password</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">mysql 9.0 是不支持该参数的</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">mysql 8.X 是支持该参数，请根据版本查看该参数</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">default_authentication_plugin=mysql_native_password</span><br>[mysql]<br><span class="hljs-meta prompt_"># </span><span class="language-bash">设置mysql客户端默认字符集</span><br>default-character-set=utf8mb4<br>[client]<br><span class="hljs-meta prompt_"># </span><span class="language-bash">设置mysql客户端连接服务端时默认使用的端口</span><br>port=3306<br>default-character-set=utf8mb4<br></code></pre></td></tr></table></figure><p>配置文件中的路径要和实际存放的路径一致（不要手动创建Data文件夹，如果初始化失败请记住删除Data文件夹）<br><img src="/blog/2024/08/1200d9535352/file-20240813220101748.png"></p><hr><h4 id="初始化MySQL"><a href="#初始化MySQL" class="headerlink" title="初始化MySQL"></a>初始化MySQL</h4><p>在安装时，避免权限问题出错我们尽量使用管理员身份运行CMD，否则在安装时会报错，会导致安装失败的情况<br><img src="/blog/2024/08/1200d9535352/file-20240813220308898.png"></p><p>因为我存放的目录是在D盘，先切换盘符在进入到指定目录，需要进入到MySQL安装目录下的<code>bin</code>目录<br><img src="/blog/2024/08/1200d9535352/file-20240813220426776.png"></p><p>在MySQL目录下的bin目录下执行命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mysqld --initialize --console<br></code></pre></td></tr></table></figure><p><img src="/blog/2024/08/1200d9535352/file-20240813221525152.png"></p><blockquote><p>注意！[注意] [MY-010454] [服务器] root@localhost: G#syB6W&#x2F;jNMG 就是初始密码（不含首位空格）。在没有更改密码前，需要记住这个密码，后续登录需要用到。复制密码先保存起来!!!</p></blockquote><hr><h4 id="安装MySQL服务-启动MySQL-服务"><a href="#安装MySQL服务-启动MySQL-服务" class="headerlink" title="安装MySQL服务&amp;启动MySQL 服务"></a>安装MySQL服务&amp;启动MySQL 服务</h4><p>安装MySQL服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mysqld --install [服务名]                     ###（服务名可以不加默认为mysql）<br></code></pre></td></tr></table></figure><p><img src="/blog/2024/08/1200d9535352/file-20240813225102691.png"></p><p>表示成功了</p><blockquote><p>如果出现了 The service already exists!<br><img src="/blog/2024/08/1200d9535352/file-20240813225149247.png"><br>说明mysql 名称存在<br>可以把它删除掉<br>SC删除的MySQL<br><img src="/blog/2024/08/1200d9535352/file-20240813225415079.png"><br>在执行上面安装服务<br><img src="/blog/2024/08/1200d9535352/file-20240813225443911.png"></p></blockquote><p>删除对应服务名称命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sc delete mysql<br></code></pre></td></tr></table></figure><p>服务安装成功之后通过命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">net start mysql<br></code></pre></td></tr></table></figure><p>启动MySQL的服务<br><img src="/blog/2024/08/1200d9535352/file-20240813225551016.png"></p><p>[可选] 关掉mysql服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">net stop mysql<br></code></pre></td></tr></table></figure><p><img src="/blog/2024/08/1200d9535352/file-20240813231147073.png"></p><hr><h4 id="连接MySQL-修改密码"><a href="#连接MySQL-修改密码" class="headerlink" title="连接MySQL&amp;修改密码"></a>连接MySQL&amp;修改密码</h4><p>在当前数据库的bin目录下 有个 <code>mysql.exe</code> 是可以用于连接mysql服务的命令行客户端工具</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mysql -h localhost -P 3306 -u root -p<br></code></pre></td></tr></table></figure><p>输入上面命令后复制之前保存的默认密码 G#syB6W&#x2F;jNMG 就可以连接到mysql服务<br><img src="/blog/2024/08/1200d9535352/file-20240813230142913.png"></p><p>修改默认密码</p><ol><li>修改密码SQL<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;new_password&#x27;</span>;<br></code></pre></td></tr></table></figure><img src="/blog/2024/08/1200d9535352/file-20240813230633218.png"></li><li>刷新权限使修改立即生效：<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">FLUSH PRIVILEGES;<br></code></pre></td></tr></table></figure><img src="/blog/2024/08/1200d9535352/file-20240813231009497.png"></li><li>退出MySQL<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">EXIT;<br></code></pre></td></tr></table></figure><img src="/blog/2024/08/1200d9535352/file-20240813231026625.png"></li></ol><blockquote><p>如果是个人使用我推荐用 root 作为密码，如果有同事或者朋友想连接你的数据库，或者写一些开源的项目或者文章不会泄露任何个人隐私信息，root 也好记忆</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>开发工具</category>
      
      <category>数据库</category>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数据库</tag>
      
      <tag>MySQL</tag>
      
      <tag>Windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
